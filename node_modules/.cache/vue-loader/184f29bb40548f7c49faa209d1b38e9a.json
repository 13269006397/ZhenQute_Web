{"remainingRequest":"E:\\Vuesax\\VueJs版本\\vuesax-admin-v3.2\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vuesax\\VueJs版本\\vuesax-admin-v3.2\\src\\layouts\\components\\TheNavbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vuesax\\VueJs版本\\vuesax-admin-v3.2\\src\\layouts\\components\\TheNavbar.vue","mtime":1626916548575},{"path":"E:\\Vuesax\\VueJs版本\\vuesax-admin-v3.2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1625188725761},{"path":"E:\\Vuesax\\VueJs版本\\vuesax-admin-v3.2\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1625188715248},{"path":"E:\\Vuesax\\VueJs版本\\vuesax-admin-v3.2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1625188725761},{"path":"E:\\Vuesax\\VueJs版本\\vuesax-admin-v3.2\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1625188673042}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n// import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport VxAutoSuggest from '@/components/vx-auto-suggest/VxAutoSuggest.vue';\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\nimport draggable from 'vuedraggable'\nimport { findUserById } from '@/acl/api'\n\nexport default {\n    name: \"the-navbar\",\n    props: {\n        navbarColor: {\n            type: String,\n            default: \"#fff\",\n        },\n    },\n    data() {\n        return {\n            userInfo : {\n                avatarImg : '',\n                emile : '',\n                password : '',\n                nickName : ''\n            },\n            navbarSearchAndPinList: this.$store.state.navbarSearchAndPinList,\n            searchQuery: '',\n            showFullSearch: false,\n            unreadNotifications: [\n                { index: 0, title: '小蛔虫',type:'/apps/chat', msg: '宝，下课一起去吃好吃的叭？', icon: 'MessageSquareIcon', time: '2021-07-19 16:43:12', category: 'primary' },\n               /* { index: 1, title: 'New Order Recieved', msg: 'You got new order of goods.', icon: 'PackageIcon', time: 'Wed Jan 30 2019 07:45:23 GMT+0000 (GMT)', category: 'success' },*/\n               /* { index: 1, title: 'Server Limit Reached!', msg: 'Server have 99% CPU usage.', icon: 'AlertOctagonIcon', time: 'Thu Jan 31 2019 07:45:23 GMT+0000 (GMT)', category: 'danger' },*/\n                { index: 1, title: '联合国儿童基金',type: '/apps/email', msg: '小仙女您好，您有新的邮件请查收', icon: 'MailIcon', time: '2021-06-12 21:03:09', category: 'success' },\n                { index: 2, title: '待办提醒',type: '/apps/todo', msg: '还有29天结束集训噢 宝', icon: 'CalendarIcon', time: '2021-07-19 16:43:12', category: 'warning' },\n            ],\n            settings: { // perfectscrollbar settings\n                maxScrollbarLength: 60,\n                wheelSpeed: .60,\n            },\n            autoFocusSearch: false,\n            showBookmarkPagesDropdown: false,\n        }\n    },\n    watch: {\n        '$route'() {\n            if (this.showBookmarkPagesDropdown) this.showBookmarkPagesDropdown = false\n        }\n    },\n    computed: {\n        // HELPER\n        sidebarWidth() {\n            return this.$store.state.sidebarWidth;\n        },\n        breakpoint() {\n            return this.$store.state.breakpoint;\n        },\n\n        // NAVBAR STYLE\n        classObj() {\n            if (this.sidebarWidth == \"default\") return \"navbar-default\"\n            else if (this.sidebarWidth == \"reduced\") return \"navbar-reduced\"\n            else if (this.sidebarWidth) return \"navbar-full\"\n        },\n\n        // I18N\n        getCurrentLocaleData() {\n            const locale = this.$i18n.locale;\n            if (locale == \"ch\") return { flag: \"ch\", lang: '中国' }\n            else if (locale == \"pt\") return { flag: \"br\", lang: 'Portuguese' }\n            else if (locale == \"fr\") return { flag: \"fr\", lang: 'French' }\n            else if (locale == \"de\") return { flag: \"de\", lang: 'German' }\n            else if (locale == \"en\") return { flag: \"us\", lang: 'English' }\n        },\n\n        // BOOKMARK & SEARCH\n        data() {\n            return this.$store.state.navbarSearchAndPinList;\n        },\n        starredPages() {\n            return this.$store.state.starredPages;\n        },\n        starredPagesLimited: {\n            get() {\n                return this.starredPages.slice(0, 10);\n            },\n            set(list) {\n                this.$store.dispatch('arrangeStarredPagesLimited', list);\n            }\n        },\n        starredPagesMore: {\n            get() {\n                return this.starredPages.slice(10);\n            },\n            set(list) {\n                this.$store.dispatch('arrangeStarredPagesMore', list);\n            }\n        },\n\n        // CART DROPDOWN\n        cartItems() {\n            return this.$store.state.eCommerce.cartItems.slice().reverse();\n        },\n        activeUserImg() {\n            // return JSON.parse(localStorage.getItem('userInfo')).photoURL || this.$store.state.AppActiveUser.img;\n            return \"zhenzhenBaby.png\";\n        }\n    },\n    created () {\n      this.getCookie();\n    },\n    methods: {\n        // 页面初始化\n        getCookie() {\n            // 读取cookie\n            if (document.cookie.length > 0) {\n                const arr = document.cookie.split('; ') // 这里显示的格式需要切割一下自己可输出看下\n                for (let i = 0; i < arr.length; i++) {\n                    const arr2 = arr[i].split('=') // 再次切割\n                    // 判断查找相对应的值\n                    if (arr2[0] === 'email') {\n                        this.userInfo.email = arr2[1] // 保存到保存数据的地方\n                    } else if (arr2[0] === 'password') {\n                        this.userInfo.password = arr2[1]\n                    }\n                }\n            }\n            // 后台查询用户数据\n            if ('' !== this.userInfo.email) {\n                findUserById(this.userInfo).then(data => {\n                    if (data.code === 200) {\n                        this.userInfo.avatarImg = data.data.user.avatar\n                        this.userInfo.nickName = data.data.user.nickName\n                    }\n                })\n            }\n        },\n        updateLocale(locale) {\n            this.$i18n.locale = locale;\n        },\n        showSidebar() {\n            this.$store.commit('TOGGLE_IS_SIDEBAR_ACTIVE', true);\n        },\n        selected(item) {\n            this.$router.push(item.url)\n            this.showFullSearch = false;\n        },\n        actionClicked(item) {\n            // e.stopPropogation();\n            this.$store.dispatch('updateStarredPage', { index: item.index, val: !item.highlightAction });\n        },\n        showNavbarSearch() {\n            this.showFullSearch = true;\n        },\n        showSearchbar() {\n            this.showFullSearch = true;\n        },\n        elapsedTime(startTime) {\n            let x = new Date(startTime);\n            let now = new Date();\n            var timeDiff = now - x;\n            timeDiff /= 1000;\n\n            var seconds = Math.round(timeDiff);\n            timeDiff = Math.floor(timeDiff / 60);\n\n            var minutes = Math.round(timeDiff % 60);\n            timeDiff = Math.floor(timeDiff / 60);\n\n            var hours = Math.round(timeDiff % 24);\n            timeDiff = Math.floor(timeDiff / 24);\n\n            var days = Math.round(timeDiff % 365);\n            timeDiff = Math.floor(timeDiff / 365);\n\n            var years = timeDiff;\n\n            if (years > 0) {\n                return years + (years > 1 ? '年' : '年') + '前';\n            } else if (days > 0) {\n                return days + (days > 1 ? '天' : '天') + '前';\n            } else if (hours > 0) {\n                return hours + (hours > 1 ? '小时' : '小时') + '前';\n            } else if (minutes > 0) {\n                return minutes + (minutes > 1 ? '分钟' : '分钟') + '前';\n            } else if (seconds > 0) {\n                return seconds + (seconds > 1 ? `${seconds} 秒之前` : '刚刚');\n            }\n\n            return 'Just Now'\n        },\n        logout() {\n            // if user is logged in via auth0\n            // if (this.$auth.profile) this.$auth.logOut();\n\n            // if user is looged in via firebase\n            // const firebaseCurrentUser = firebase.auth().currentUser\n\n         /*   if (firebaseCurrentUser) {\n                firebase.auth().signOut().then(() => {\n                    this.$router.push('/pages/login')\n                    localStorage.removeItem('userInfo');\n                })\n            }*/\n            // localStorage.removeItem('userInfo');\n\n            // 清空Cookie\n            this.clearCookie()\n            this.$router.push('/pages/login')\n            // Change role on logout. Same value as initialRole of acj.js\n            // this.$acl.change('admin')\n            // localStorage.removeItem('userRole');\n        },\n        // 清除cookie\n        clearCookie: function () {\n            this.setCookie('', '', -1) // 修改两个值都为空，天数为-1天就好了\n        },\n        // 设置cookie\n        setCookie (mobile, password, rememberTime) {\n            const exDate = new Date() // 获取时间\n            exDate.setTime(exDate.getTime() + 9 * 60 * 60 * 1000 * rememberTime) // 保存的天数\n            // 字符串拼接cookie\n            window.document.cookie =\n                'email' + '=' + mobile + ';path=/;expires=' + exDate.toGMTString()\n            window.document.cookie =\n                'password' + '=' + password + ';path=/;expires=' + exDate.toGMTString()\n        },\n        outside: function() {\n            this.showBookmarkPagesDropdown = false\n        },\n\n        // CART DROPDOWN\n        removeItemFromCart(item) {\n            this.$store.dispatch('eCommerce/toggleItemInCart', item)\n        }\n    },\n    directives: {\n        'click-outside': {\n            bind: function(el, binding) {\n                const bubble = binding.modifiers.bubble\n                const handler = (e) => {\n                    if (bubble || (!el.contains(e.target) && el !== e.target)) {\n                        binding.value(e)\n                    }\n                }\n                el.__vueClickOutside__ = handler\n                document.addEventListener('click', handler)\n            },\n\n            unbind: function(el) {\n                document.removeEventListener('click', el.__vueClickOutside__)\n                el.__vueClickOutside__ = null\n\n            }\n        }\n    },\n    components: {\n        VxAutoSuggest,\n        VuePerfectScrollbar,\n        draggable\n    },\n}\n",{"version":3,"sources":["TheNavbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgRA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TheNavbar.vue","sourceRoot":"src/layouts/components","sourcesContent":["<!-- =========================================================================================\n\tFile Name: TheNavbar.vue\n\tDescription: Navbar component\n\tComponent Name: TheNavbar\n========================================================================================== -->\n\n\n<template>\n<div class=\"relative\">\n\t<div class=\"vx-navbar-wrapper\">\n\t\t<vs-navbar class=\"vx-navbar navbar-custom\" :color=\"navbarColor\" :class=\"classObj\">\n\n\t\t\t<!-- SM - OPEN SIDEBAR BUTTON -->\n\t\t\t<feather-icon class=\"sm:inline-flex xl:hidden cursor-pointer mr-1\" icon=\"MenuIcon\" @click.stop=\"showSidebar\"></feather-icon>\n\n\t\t\t<template v-if=\"breakpoint != 'md'\">\n\t\t\t\t<!-- STARRED PAGES - FIRST 10 -->\n\t\t\t\t<ul class=\"vx-navbar__starred-pages\">\n\t\t\t\t\t<draggable v-model=\"starredPagesLimited\" :group=\"{name: 'pinList'}\" class=\"flex cursor-move\">\n\t\t\t\t\t\t<li class=\"starred-page\" v-for=\"page in starredPagesLimited\" :key=\"page.url\">\n\t\t\t\t\t\t\t<vx-tooltip :text=\"page.label\" position=\"bottom\" delay=\".3s\">\n\t\t\t\t\t\t\t\t<feather-icon svgClasses=\"h-6 w-6\" class=\"p-2 cursor-pointer\" :icon=\"page.labelIcon\" @click=\"$router.push(page.url)\"></feather-icon>\n\t\t\t\t\t\t\t</vx-tooltip>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</draggable>\n\t\t\t\t</ul>\n\n\t\t\t\t<!-- STARRED PAGES MORE -->\n\t\t\t\t<div class=\"vx-navbar__starred-pages--more-dropdown\" v-if=\"starredPagesMore.length\">\n\t\t\t\t\t<vs-dropdown vs-custom-content vs-trigger-click>\n\t\t\t\t\t\t<feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" class=\"cursor-pointer p-2\"></feather-icon>\n\t\t\t\t\t\t<vs-dropdown-menu>\n\t\t\t\t\t\t\t<ul class=\"vx-navbar__starred-pages-more--list\">\n\t\t\t\t\t\t\t\t<draggable v-model=\"starredPagesMore\" :group=\"{name: 'pinList'}\" class=\"cursor-move\">\n\t\t\t\t\t\t\t\t\t<li class=\"starred-page--more flex items-center cursor-pointer\" v-for=\"page in starredPagesMore\" :key=\"page.url\" @click=\"$router.push(page.url)\">\n\t\t\t\t\t\t\t\t\t\t<feather-icon svgClasses=\"h-5 w-5\" class=\"ml-2 mr-1\" :icon=\"page.labelIcon\"></feather-icon>\n\t\t\t\t\t\t\t\t\t\t<span class=\"px-2 pt-2 pb-1\">{{ page.label }}</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</draggable>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</vs-dropdown-menu>\n\t\t\t\t\t</vs-dropdown>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"bookmark-container\">\n\t\t\t\t\t<feather-icon icon=\"StarIcon\" :svgClasses=\"['stoke-current text-warning', {'text-white': navbarColor != '#fff'}]\" class=\"cursor-pointer p-2\" @click.stop=\"showBookmarkPagesDropdown = !showBookmarkPagesDropdown\" />\n                    <div v-click-outside=\"outside\" class=\"absolute bookmark-list w-1/3 xl:w-1/4 mt-4\" v-if=\"showBookmarkPagesDropdown\">\n\t\t\t\t\t<vx-auto-suggest :autoFocus=\"true\" :data=\"navbarSearchAndPinList\" @selected=\"selected\" @actionClicked=\"actionClicked\" inputClassses=\"w-full\" show-action show-pinned background-overlay></vx-auto-suggest>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\n\t\t\t<vs-spacer></vs-spacer>\n\n\t\t\t<!-- I18N -->\n\t\t\t<vs-dropdown vs-custom-content vs-trigger-click class=\"cursor-pointer\">\n\t\t\t\t<span class=\"cursor-pointer flex i18n-locale\"><img class=\"h-4 w-5\" :src=\"require(`@/assets/images/flags/${$i18n.locale}.png`)\" :alt=\"$i18n.locale\" /><span class=\"hidden sm:block ml-2\">{{ getCurrentLocaleData.lang }}</span></span>\n\t\t\t\t<vs-dropdown-menu class=\"w-48 i18n-dropdown vx-navbar-dropdown\">\n          <vs-dropdown-item @click=\"updateLocale('ch')\"><img class=\"h-4 w-5 mr-1\" src=\"@/assets/images/flags/ch.png\" alt=\"ch\" /> 中国</vs-dropdown-item>\n\t\t\t\t\t<vs-dropdown-item @click=\"updateLocale('en')\"><img class=\"h-4 w-5 mr-1\" src=\"@/assets/images/flags/en.png\" alt=\"en\" />  English</vs-dropdown-item>\n\t\t\t\t\t<vs-dropdown-item @click=\"updateLocale('fr')\"><img class=\"h-4 w-5 mr-1\" src=\"@/assets/images/flags/fr.png\" alt=\"fr\" /> &nbsp;French</vs-dropdown-item>\n\t\t\t\t\t<vs-dropdown-item @click=\"updateLocale('de')\"><img class=\"h-4 w-5 mr-1\" src=\"@/assets/images/flags/de.png\" alt=\"de\" /> &nbsp;German</vs-dropdown-item>\n\t\t\t\t\t<vs-dropdown-item @click=\"updateLocale('pt')\"><img class=\"h-4 w-5 mr-1\" src=\"@/assets/images/flags/pt.png\" alt=\"pt\" /> &nbsp;Portuguese</vs-dropdown-item>\n\t\t\t\t</vs-dropdown-menu>\n\t\t\t</vs-dropdown>\n\n            <!-- SEARCHBAR -->\n            <div class=\"search-full-container w-full h-full absolute left-0 rounded-lg\" :class=\"{'flex': showFullSearch}\" v-show=\"showFullSearch\">\n                <vx-auto-suggest\n                  class=\"w-full\"\n                  inputClassses=\"w-full vs-input-no-border vs-input-no-shdow-focus no-icon-border\"\n                  :autoFocus=\"showFullSearch\"\n                  :data=\"navbarSearchAndPinList\"\n                  icon=\"SearchIcon\"\n                  placeholder=\"Search...\"\n                  ref=\"navbarSearch\"\n                  @closeSearchbar=\"showFullSearch = false\"\n                  @selected=\"selected\"\n                  background-overlay />\n                <div class=\"absolute right-0 h-full z-50\">\n                    <feather-icon icon=\"XIcon\" class=\"px-4 cursor-pointer h-full close-search-icon\" @click=\"showFullSearch = false\"></feather-icon>\n                </div>\n            </div>\n            <feather-icon icon=\"SearchIcon\" @click=\"showFullSearch = true\" class=\"cursor-pointer navbar-fuzzy-search ml-4\"></feather-icon>\n\n            <!-- 购物车弹窗 -->\n            <vs-dropdown vs-custom-content vs-trigger-click class=\"cursor-pointer\">\n                <feather-icon icon=\"ShoppingCartIcon\" class=\"cursor-pointer ml-4 mr-6 mt-1\" :badge=\"cartItems.length\"></feather-icon>\n                <vs-dropdown-menu class=\"cart-dropdown vx-navbar-dropdown\" :class=\"{'dropdown-custom': cartItems.length}\">\n\n                    <!-- IF CART HAVE ITEMS: HEADER -->\n                    <template v-if=\"cartItems.length\">\n                        <div class=\"notification-header text-center p-5 bg-primary text-white\">\n                            <p class=\"opacity-75\">购物车</p>\n                            <h3 class=\"text-white\">{{ cartItems.length }} 件商品<span v-show=\"cartItems.length > 1\"></span></h3>\n                        </div>\n\n                        <!-- CART ITEMS -->\n                        <VuePerfectScrollbar ref=\"mainSidebarPs\" class=\"scroll-area--cart-items-dropdowm p-0 mb-10\" :settings=\"settings\">\n                        <ul class=\"bordered-items\">\n                            <li v-for=\"item in cartItems\" :key=\"item.objectID\" class=\"vx-row no-gutter cart-item cursor-pointer\">\n\n                                <!-- IMG COL -->\n                                <div class=\"vx-col w-1/5 item-img-container bg-white flex items-center justify-center\">\n                                    <img :src=\"item.image\" alt=\"item\" class=\"cart-dropdown-item-img p-4\">\n                                </div>\n\n                                <!-- INFO COL -->\n                                <div class=\"vx-col w-4/5 pr-4 pl-2 py-4 flex flex-col justify-center\">\n                                    <span class=\"font-medium block cart-item-title truncate\">{{ item.name }}</span>\n                                    <small class=\"truncate mb-2\">{{ item.description }}</small>\n                                    <div class=\"flex items-center justify-between\">\n                                        <span class=\"text-sm font-medium\">{{ item.quantity }} <small> x </small> {{ item.price }}</span>\n                                        <feather-icon icon=\"XIcon\" svgClasses=\"h-4 w-4 cursor-pointer text-danger\" class=\"hover:text-danger\" @click.stop=\"removeItemFromCart(item)\" />\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                        </VuePerfectScrollbar>\n                        <div\n                            class=\" checkout-footer fixed bottom-0 rounded-b-lg text-primary font-semibold w-full p-2 text-center border border-b-0 border-l-0 border-r-0 border-solid d-theme-border-grey-light cursor-pointer\"\n                            @click=\"$router.push('/apps/eCommerce/checkout')\">\n\n                            <span class=\"flex items-center justify-center\">\n                              <feather-icon icon=\"ShoppingCartIcon\" svgClasses=\"h-4 w-4\"></feather-icon>\n                              <span class=\"ml-2\">去结算</span>\n                            </span>\n\n                        </div>\n                    </template>\n\n                    <!-- IF CART IS EMPTY -->\n                    <template v-else>\n                        <p class=\"p-4\">购物车是空的</p>\n                    </template>\n                </vs-dropdown-menu>\n            </vs-dropdown>\n\n\t\t\t<!-- NOTIFICATIONS -->\n\t\t\t<vs-dropdown vs-custom-content vs-trigger-click class=\"cursor-pointer\">\n\t\t\t\t<feather-icon icon=\"BellIcon\" class=\"cursor-pointer mt-1 sm:mr-6 mr-2\" :badge=\"unreadNotifications.length\"></feather-icon>\n\t\t\t\t<vs-dropdown-menu class=\"notification-dropdown dropdown-custom vx-navbar-dropdown\">\n\n\t\t\t\t\t<div class=\"notification-top text-center p-5 bg-primary text-white\">\n            <p class=\"opacity-75\">消息通知</p>\n\t\t\t\t\t\t<h3 class=\"text-white\">{{ unreadNotifications.length }} 新消息</h3>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<VuePerfectScrollbar ref=\"mainSidebarPs\" class=\"scroll-area--nofications-dropdown p-0 mb-10\" :settings=\"settings\">\n\t\t\t\t\t<ul class=\"bordered-items\">\n\t\t\t\t\t\t<li v-for=\"ntf in unreadNotifications\" :key=\"ntf.index\" class=\"flex justify-between px-4 py-4 notification cursor-pointer\">\n\t\t\t\t\t\t\t<div @click=\"$router.push(ntf.type)\" class=\"flex items-start\">\n\t\t\t\t\t\t\t\t<feather-icon :icon=\"ntf.icon\" :svgClasses=\"[`text-${ntf.category}`, 'stroke-current mr-1 h-6 w-6']\"></feather-icon>\n\t\t\t\t\t\t\t\t<div class=\"mx-2\">\n\t\t\t\t\t\t\t\t\t<span class=\"font-medium block notification-title\" :class=\"[`text-${ntf.category}`]\">{{ ntf.title }}</span>\n\t\t\t\t\t\t\t\t\t<small>{{ ntf.msg }}</small>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<small class=\"mt-1 whitespace-no-wrap\">{{ elapsedTime(ntf.time) }}</small>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t</VuePerfectScrollbar>\n                    <div class=\"\n                        checkout-footer\n                        fixed\n                        bottom-0\n                        rounded-b-lg\n                        text-primary\n                        w-full\n                        p-2\n                        font-semibold\n                        text-center\n                        border\n                        border-b-0\n                        border-l-0\n                        border-r-0\n                        border-solid\n                        d-theme-border-grey-light\n                        cursor-pointer\">\n                      <div @click=\"$router.push('/apps/chat')\">\n                            <span class=\"flex items-center justify-center\">\n                              <span class=\"ml-2\">全部已读</span>\n                            </span>\n                      </div>\n                    </div>\n\t\t\t\t</vs-dropdown-menu>\n\t\t\t</vs-dropdown>\n\n\t\t\t<!-- USER META -->\n\t\t\t<div class=\"the-navbar__user-meta flex items-center\">\n\t\t\t\t<div class=\"text-right leading-tight hidden sm:block\">\n\t\t\t\t\t<p class=\"font-semibold\">{{ userInfo.nickName }}</p>\n\t\t\t\t\t<small>Available</small>\n\t\t\t\t</div>\n\t\t\t\t<vs-dropdown vs-custom-content vs-trigger-click class=\"cursor-pointer\">\n\t\t\t\t\t<div class=\"con-img ml-3\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tv-if=\"activeUserImg.startsWith('http')\"\n\t\t\t\t\t\t\tkey=\"onlineImg\"\n\t\t\t\t\t\t\t:src=userInfo.avatarImg\n\t\t\t\t\t\t\talt=\"user-img\"\n\t\t\t\t\t\t\twidth=\"40\"\n\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t\tclass=\"rounded-full shadow-md cursor-pointer block\" />\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\tkey=\"localImg\"\n\t\t\t\t\t\t\t:src=userInfo.avatarImg\n\t\t\t\t\t\t\talt=\"user-img\"\n\t\t\t\t\t\t\twidth=\"40\"\n\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t\tclass=\"rounded-full shadow-md cursor-pointer block\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<vs-dropdown-menu class=\"vx-navbar-dropdown\">\n\t\t\t\t\t\t<ul style=\"min-width: 9rem\">\n\t\t\t\t\t\t\t<li\n                class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n                @click=\"$router.push('/pages/profile')\">\n\n                <feather-icon icon=\"UserIcon\" svgClasses=\"w-4 h-4\" />\n                <span class=\"ml-2\">简介</span>\n              </li>\n\t\t\t\t\t\t\t<li\n                class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n                @click=\"$router.push('/apps/email')\">\n\n                <feather-icon icon=\"MailIcon\" svgClasses=\"w-4 h-4\" />\n                <span class=\"ml-2\">电子邮件</span>\n              </li>\n\t\t\t\t\t\t\t<li\n                class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n                @click=\"$router.push('/apps/todo')\">\n\n                <feather-icon icon=\"CheckSquareIcon\" svgClasses=\"w-4 h-4\" />\n                <span class=\"ml-2\">待办任务</span>\n              </li>\n\t\t\t\t\t\t\t<li\n                class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n                @click=\"$router.push('/apps/chat')\">\n\n                <feather-icon icon=\"MessageSquareIcon\" svgClasses=\"w-4 h-4\" />\n                <span class=\"ml-2\">聊天</span>\n              </li>\n              <li\n                class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n                @click=\"$router.push('/apps/eCommerce/wish-list')\">\n\n                <feather-icon icon=\"HeartIcon\" svgClasses=\"w-4 h-4\" />\n                <span class=\"ml-2\">愿望清单</span>\n              </li>\n\n\t\t\t\t\t\t\t<vs-divider class=\"m-1\"></vs-divider>\n\n\t\t\t\t\t\t\t<li\n                class=\"flex py-2 px-4 cursor-pointer hover:bg-primary hover:text-white\"\n                @click=\"logout\">\n                <feather-icon icon=\"LogOutIcon\" svgClasses=\"w-4 h-4\"/>\n                <span class=\"ml-2\">退出</span>\n              </li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</vs-dropdown-menu>\n\t\t\t\t</vs-dropdown>\n\t\t\t</div>\n\n\t\t</vs-navbar>\n\t</div>\n</div>\n</template>\n\n<script>\n\n// import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport VxAutoSuggest from '@/components/vx-auto-suggest/VxAutoSuggest.vue';\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\nimport draggable from 'vuedraggable'\nimport { findUserById } from '@/acl/api'\n\nexport default {\n    name: \"the-navbar\",\n    props: {\n        navbarColor: {\n            type: String,\n            default: \"#fff\",\n        },\n    },\n    data() {\n        return {\n            userInfo : {\n                avatarImg : '',\n                emile : '',\n                password : '',\n                nickName : ''\n            },\n            navbarSearchAndPinList: this.$store.state.navbarSearchAndPinList,\n            searchQuery: '',\n            showFullSearch: false,\n            unreadNotifications: [\n                { index: 0, title: '小蛔虫',type:'/apps/chat', msg: '宝，下课一起去吃好吃的叭？', icon: 'MessageSquareIcon', time: '2021-07-19 16:43:12', category: 'primary' },\n               /* { index: 1, title: 'New Order Recieved', msg: 'You got new order of goods.', icon: 'PackageIcon', time: 'Wed Jan 30 2019 07:45:23 GMT+0000 (GMT)', category: 'success' },*/\n               /* { index: 1, title: 'Server Limit Reached!', msg: 'Server have 99% CPU usage.', icon: 'AlertOctagonIcon', time: 'Thu Jan 31 2019 07:45:23 GMT+0000 (GMT)', category: 'danger' },*/\n                { index: 1, title: '联合国儿童基金',type: '/apps/email', msg: '小仙女您好，您有新的邮件请查收', icon: 'MailIcon', time: '2021-06-12 21:03:09', category: 'success' },\n                { index: 2, title: '待办提醒',type: '/apps/todo', msg: '还有29天结束集训噢 宝', icon: 'CalendarIcon', time: '2021-07-19 16:43:12', category: 'warning' },\n            ],\n            settings: { // perfectscrollbar settings\n                maxScrollbarLength: 60,\n                wheelSpeed: .60,\n            },\n            autoFocusSearch: false,\n            showBookmarkPagesDropdown: false,\n        }\n    },\n    watch: {\n        '$route'() {\n            if (this.showBookmarkPagesDropdown) this.showBookmarkPagesDropdown = false\n        }\n    },\n    computed: {\n        // HELPER\n        sidebarWidth() {\n            return this.$store.state.sidebarWidth;\n        },\n        breakpoint() {\n            return this.$store.state.breakpoint;\n        },\n\n        // NAVBAR STYLE\n        classObj() {\n            if (this.sidebarWidth == \"default\") return \"navbar-default\"\n            else if (this.sidebarWidth == \"reduced\") return \"navbar-reduced\"\n            else if (this.sidebarWidth) return \"navbar-full\"\n        },\n\n        // I18N\n        getCurrentLocaleData() {\n            const locale = this.$i18n.locale;\n            if (locale == \"ch\") return { flag: \"ch\", lang: '中国' }\n            else if (locale == \"pt\") return { flag: \"br\", lang: 'Portuguese' }\n            else if (locale == \"fr\") return { flag: \"fr\", lang: 'French' }\n            else if (locale == \"de\") return { flag: \"de\", lang: 'German' }\n            else if (locale == \"en\") return { flag: \"us\", lang: 'English' }\n        },\n\n        // BOOKMARK & SEARCH\n        data() {\n            return this.$store.state.navbarSearchAndPinList;\n        },\n        starredPages() {\n            return this.$store.state.starredPages;\n        },\n        starredPagesLimited: {\n            get() {\n                return this.starredPages.slice(0, 10);\n            },\n            set(list) {\n                this.$store.dispatch('arrangeStarredPagesLimited', list);\n            }\n        },\n        starredPagesMore: {\n            get() {\n                return this.starredPages.slice(10);\n            },\n            set(list) {\n                this.$store.dispatch('arrangeStarredPagesMore', list);\n            }\n        },\n\n        // CART DROPDOWN\n        cartItems() {\n            return this.$store.state.eCommerce.cartItems.slice().reverse();\n        },\n        activeUserImg() {\n            // return JSON.parse(localStorage.getItem('userInfo')).photoURL || this.$store.state.AppActiveUser.img;\n            return \"zhenzhenBaby.png\";\n        }\n    },\n    created () {\n      this.getCookie();\n    },\n    methods: {\n        // 页面初始化\n        getCookie() {\n            // 读取cookie\n            if (document.cookie.length > 0) {\n                const arr = document.cookie.split('; ') // 这里显示的格式需要切割一下自己可输出看下\n                for (let i = 0; i < arr.length; i++) {\n                    const arr2 = arr[i].split('=') // 再次切割\n                    // 判断查找相对应的值\n                    if (arr2[0] === 'email') {\n                        this.userInfo.email = arr2[1] // 保存到保存数据的地方\n                    } else if (arr2[0] === 'password') {\n                        this.userInfo.password = arr2[1]\n                    }\n                }\n            }\n            // 后台查询用户数据\n            if ('' !== this.userInfo.email) {\n                findUserById(this.userInfo).then(data => {\n                    if (data.code === 200) {\n                        this.userInfo.avatarImg = data.data.user.avatar\n                        this.userInfo.nickName = data.data.user.nickName\n                    }\n                })\n            }\n        },\n        updateLocale(locale) {\n            this.$i18n.locale = locale;\n        },\n        showSidebar() {\n            this.$store.commit('TOGGLE_IS_SIDEBAR_ACTIVE', true);\n        },\n        selected(item) {\n            this.$router.push(item.url)\n            this.showFullSearch = false;\n        },\n        actionClicked(item) {\n            // e.stopPropogation();\n            this.$store.dispatch('updateStarredPage', { index: item.index, val: !item.highlightAction });\n        },\n        showNavbarSearch() {\n            this.showFullSearch = true;\n        },\n        showSearchbar() {\n            this.showFullSearch = true;\n        },\n        elapsedTime(startTime) {\n            let x = new Date(startTime);\n            let now = new Date();\n            var timeDiff = now - x;\n            timeDiff /= 1000;\n\n            var seconds = Math.round(timeDiff);\n            timeDiff = Math.floor(timeDiff / 60);\n\n            var minutes = Math.round(timeDiff % 60);\n            timeDiff = Math.floor(timeDiff / 60);\n\n            var hours = Math.round(timeDiff % 24);\n            timeDiff = Math.floor(timeDiff / 24);\n\n            var days = Math.round(timeDiff % 365);\n            timeDiff = Math.floor(timeDiff / 365);\n\n            var years = timeDiff;\n\n            if (years > 0) {\n                return years + (years > 1 ? '年' : '年') + '前';\n            } else if (days > 0) {\n                return days + (days > 1 ? '天' : '天') + '前';\n            } else if (hours > 0) {\n                return hours + (hours > 1 ? '小时' : '小时') + '前';\n            } else if (minutes > 0) {\n                return minutes + (minutes > 1 ? '分钟' : '分钟') + '前';\n            } else if (seconds > 0) {\n                return seconds + (seconds > 1 ? `${seconds} 秒之前` : '刚刚');\n            }\n\n            return 'Just Now'\n        },\n        logout() {\n            // if user is logged in via auth0\n            // if (this.$auth.profile) this.$auth.logOut();\n\n            // if user is looged in via firebase\n            // const firebaseCurrentUser = firebase.auth().currentUser\n\n         /*   if (firebaseCurrentUser) {\n                firebase.auth().signOut().then(() => {\n                    this.$router.push('/pages/login')\n                    localStorage.removeItem('userInfo');\n                })\n            }*/\n            // localStorage.removeItem('userInfo');\n\n            // 清空Cookie\n            this.clearCookie()\n            this.$router.push('/pages/login')\n            // Change role on logout. Same value as initialRole of acj.js\n            // this.$acl.change('admin')\n            // localStorage.removeItem('userRole');\n        },\n        // 清除cookie\n        clearCookie: function () {\n            this.setCookie('', '', -1) // 修改两个值都为空，天数为-1天就好了\n        },\n        // 设置cookie\n        setCookie (mobile, password, rememberTime) {\n            const exDate = new Date() // 获取时间\n            exDate.setTime(exDate.getTime() + 9 * 60 * 60 * 1000 * rememberTime) // 保存的天数\n            // 字符串拼接cookie\n            window.document.cookie =\n                'email' + '=' + mobile + ';path=/;expires=' + exDate.toGMTString()\n            window.document.cookie =\n                'password' + '=' + password + ';path=/;expires=' + exDate.toGMTString()\n        },\n        outside: function() {\n            this.showBookmarkPagesDropdown = false\n        },\n\n        // CART DROPDOWN\n        removeItemFromCart(item) {\n            this.$store.dispatch('eCommerce/toggleItemInCart', item)\n        }\n    },\n    directives: {\n        'click-outside': {\n            bind: function(el, binding) {\n                const bubble = binding.modifiers.bubble\n                const handler = (e) => {\n                    if (bubble || (!el.contains(e.target) && el !== e.target)) {\n                        binding.value(e)\n                    }\n                }\n                el.__vueClickOutside__ = handler\n                document.addEventListener('click', handler)\n            },\n\n            unbind: function(el) {\n                document.removeEventListener('click', el.__vueClickOutside__)\n                el.__vueClickOutside__ = null\n\n            }\n        }\n    },\n    components: {\n        VxAutoSuggest,\n        VuePerfectScrollbar,\n        draggable\n    },\n}\n</script>\n"]}]}